# 网站信息泄漏

有效信息，狭义理解，是一段可以降低不确定性的内容。

比如：一个人说“我今天出门要带把伞。”那么可以推断他所在的城市今天有比较大的概率会下雨。

在一个网络站点中，绝大部分的输出信息（Response包中的信息）均可以被归类为有效信息，包括：

- 返回数据包的大小
- 返回数据包所用时间
- 返回数据包的注释部分
- 正确的返回数据包
- 错误的返回数据包
- ...

对于网站开发者而言，正确认识攻击者获取“额外有效信息”（也被称为网站信息泄漏）的方式，将会极大提升网站整体安全能力，以下为几个经典的例子。

**1、错误信息直接展示**

#数字型的productid被修改成字符型后，页面直接输出java错误信息，包含了apache版本号等关键信息，造成信息泄漏【运行错误应当直接返回统一错误界面】

![%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled.png](%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled.png)

**2、敏感信息在注释中显示**

#网站返回数据包中包含注释，注释泄漏了debug相关路径，直接访问该路径获取secretkey【前端代码、后端接口应尽可能删除敏感注释】

![%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%201.png](%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%201.png)

![%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%202.png](%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%202.png)

**3、backup信息泄漏**

#网站robots.txt文件中，包含了不允许被爬取的文件路径，该路径泄露了备份文件信息（包含数据库连接相关信息）【robots.txt是一种存放于网站根目录下的ASCII编码的文本文件，它通常告诉网络搜索引擎的爬虫，此网站中的哪些内容是不应被搜索引擎的爬虫获取的，放置于网站的根目录下。】

![%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%203.png](%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%203.png)

![%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%204.png](%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%204.png)

4、HTTP动作导致信息泄漏

#TRACE动作请求，返回包中包含认证IP，修改请求原文，使之包含127.0.0.1，通过IP认证，访问到敏感信息【对于除GET、POST之外的HTTP动作应该有合格的权限约束】

![%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%205.png](%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%205.png)

5、错误配置网站路由导致敏感文件泄漏

#路由配置时，配置了某代码文件夹，该文件夹下包含.git信息，在未经处理的情况下，.git文件夹可以泄漏源代码、代码修改记录等敏感信息。【路由配置、路由控制】

![%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%206.png](%E7%BD%91%E7%AB%99%E4%BF%A1%E6%81%AF%E6%B3%84%E6%BC%8F%20d72199d7d5334255916ff3c412c00d3e/Untitled%206.png)

#6、如身份证、手机号码、银行卡号相关的个人信息泄漏，另起一个单独的章节进行描述